<div class="skills-projects-container">
    <div class="skills-projects-header">
        <h2>Skills & Projects</h2>
        <a id="toggleProjects" class="cta-text">Show More</a>
    </div>
    <div class="grid-skills">
        <div class="skill-card python">
            <i class="fa-brands fa-python python-icon"></i>
            <p>Python</p>
        </div>
        <div class="skill-card js">
            <i class="fa-brands fa-js-square js-icon"></i>
            <p>JavaScript</p>
        </div>
        <div class="skill-card vue">
            <i class="fa-brands fa-vuejs vuejs-icon"></i>
            <p>Vue</p>
        </div>
        <div class="skill-card html">
            <i class="fa-brands fa-html5 html-icon"></i>
            <p>HTML</p>
        </div>
        <div class="skill-card css">
            <i class="fa-brands fa-css3-alt css-icon"></i>
            <p>CSS</p>
        </div>
        <div class="skill-card scss">
            <i class="fa-brands fa-sass scss-icon"></i>
            <p>SCSS</p>
        </div>
        <div class="skill-card latex">
            <p>LaTeX</p>
        </div>
    </div>
    <div class="projects-list">
        {% for project in collections.projects | reverse %}
            <div class="project-card{% if loop.index > 2 %} hidden{% endif %}">
                <div class="project-header">
                    <h3><a href="{{ site.pathPrefix }}{{ project.url }}" class="cta-text">{{ project.data.title }}</a></h3>
                    <p><small>{{ project.date | readableDate }}</small></p>
                </div>
                <p>{{ project.data.description }}</p>
            </div>
        {% endfor %}
    </div>
</div>

<script>
    document.getElementById('toggleProjects').addEventListener('click', function() {
        const hiddenProjects = document.querySelectorAll('.project-card.hidden');
        const isHidden = hiddenProjects.length > 0;

        if (isHidden) {
            hiddenProjects.forEach(project => project.classList.remove('hidden'));
            this.textContent = 'Show Less';
        } else {
            const allProjects = document.querySelectorAll('.project-card');
            allProjects.forEach((project, index) => {
                if (index >= 2) {
                    project.classList.add('hidden');
                }
            });
            this.textContent = 'Show More';
        }
    });
</script>
